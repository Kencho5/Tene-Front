<div
  class="w-full space-y-6 rounded-2xl bg-white p-6 shadow-low lg:w-[448px]"
>
  <h2 class="text-xl">{{ title() }}</h2>

  <div class="space-y-2 text-sm">
    <div class="flex items-center justify-between">
      <p class="text-platinum-50">ნივთები ({{ cartService.itemCount() }})</p>
      <p class="font-semibold">
        {{ cartService.totalPrice() | number: "1.2-2" }}₾
      </p>
    </div>
    <div class="flex items-center justify-between">
      <p class="text-platinum-50">მიწოდება</p>
      <p class="font-semibold">{{ deliveryPrice() | number: "1.2-2" }}₾</p>
    </div>
    @if (cartService.totalDiscount() > 0) {
      <div class="flex items-center justify-between">
        <p class="text-platinum-50">ფასდაკლება</p>
        <p class="font-semibold text-valencia-50">
          -{{ cartService.totalDiscount() | number: "1.2-2" }}₾
        </p>
      </div>
    }
  </div>

  <div class="h-px bg-platinum-20"></div>

  <div class="flex items-center justify-between text-lg">
    <h2 class="text-base">ჯამური ღირებულება</h2>
    <p class="text-base font-bold">
      {{
        cartService.totalPrice() + deliveryPrice() | number: "1.2-2"
      }}₾
    </p>
  </div>

  @if (showCheckoutButton()) {
    <button
      type="button"
      (click)="onCheckout()"
      [disabled]="checkoutLoading()"
      class="inline-flex h-[46px] w-full items-center justify-center gap-2 rounded-full border-[1.5px] border-white/40 px-6 py-3 text-base font-medium text-white transition-all hover:brightness-95 disabled:opacity-60 disabled:cursor-not-allowed"
      style="
        background: linear-gradient(
          90deg,
          #0ad810 0%,
          #0bb705 35%,
          #0bb705 65%,
          #0ad810 100%
        );
        box-shadow: 0px 20px 16px -8px #0ad10426;
      "
    >
      @if (checkoutLoading()) {
        <svg class="h-5 w-5 animate-spin" viewBox="0 0 24 24" fill="none">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
        </svg>
        იტვირთება...
      } @else {
        {{ checkoutButtonText() }}
      }
    </button>
  }
</div>

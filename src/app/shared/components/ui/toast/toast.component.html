<div
  class="fixed right-3 top-0 z-50 mt-[60px] flex flex-col gap-2 sm:right-6 sm:top-6 sm:mt-[72px] sm:gap-3 lg:mt-[80px]"
>
  @for (toast of toastService.toasts(); track toast.id) {
    <div
      animate.enter="toast-enter"
      animate.leave="toast-leave"
    >
      <div
        class="relative flex w-full max-w-[280px] flex-col overflow-hidden rounded-lg bg-white shadow-low sm:max-w-[340px] sm:rounded-xl"
      >
        <!-- Top color bar -->
        <div
          class="h-1 w-full sm:h-1.5"
          [class.bg-success]="toast.type === 'success'"
          [class.bg-valencia-50]="toast.type === 'error'"
          [class.bg-warning]="toast.type === 'warning'"
          [class.bg-info]="toast.type === 'info'"
        ></div>

        <div class="flex p-3 sm:p-4">
          <!-- Status Icon & Title in flex container -->
          <div class="flex items-start">
            <div
              class="mr-2 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full sm:mr-3 sm:h-7 sm:w-7"
              [class.bg-success/10]="toast.type === 'success'"
              [class.text-success]="toast.type === 'success'"
              [class.bg-valencia-50/10]="toast.type === 'error'"
              [class.text-valencia-50]="toast.type === 'error'"
              [class.bg-warning/10]="toast.type === 'warning'"
              [class.text-warning]="toast.type === 'warning'"
              [class.bg-info/10]="toast.type === 'info'"
              [class.text-info]="toast.type === 'info'"
            >
              <!-- Success Icon -->
              @if (toast.type === 'success') {
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="13"
                  height="13"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="sm:h-[15px] sm:w-[15px]"
                >
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
              }

              <!-- Error Icon -->
              @if (toast.type === 'error') {
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="13"
                  height="13"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="sm:h-[15px] sm:w-[15px]"
                >
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              }

              <!-- Warning Icon -->
              @if (toast.type === 'warning') {
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="13"
                  height="13"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="sm:h-[15px] sm:w-[15px]"
                >
                  <path
                    d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"
                  ></path>
                  <line x1="12" y1="9" x2="12" y2="13"></line>
                  <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
              }

              <!-- Info Icon -->
              @if (toast.type === 'info') {
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="13"
                  height="13"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="sm:h-[15px] sm:w-[15px]"
                >
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="16" x2="12" y2="12"></line>
                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
              }
            </div>

            <!-- Content -->
            <div class="flex-1">
              <h3
                class="text-xs font-medium leading-tight sm:text-sm"
                [class.text-success]="toast.type === 'success'"
                [class.text-valencia-50]="toast.type === 'error'"
                [class.text-warning]="toast.type === 'warning'"
                [class.text-info]="toast.type === 'info'"
              >
                {{ toast.title }}
              </h3>
              <p class="mt-0.5 text-[10px] leading-relaxed text-platinum-70 sm:mt-1 sm:text-xs">
                {{ toast.subtext }}
              </p>
            </div>
          </div>
        </div>

        <!-- Bottom detail with action button -->
        <div
          class="flex items-center justify-between border-t border-platinum-20 bg-platinum-10 px-3 py-1.5 sm:px-4 sm:py-2"
        >
          <div class="flex items-center">
            <div
              class="animate-pulse-slow mr-1 h-1 w-1 rounded-full sm:mr-1.5 sm:h-1.5 sm:w-1.5"
              [class.bg-success]="toast.type === 'success'"
              [class.bg-valencia-50]="toast.type === 'error'"
              [class.bg-warning]="toast.type === 'warning'"
              [class.bg-info]="toast.type === 'info'"
            ></div>
            <span
              class="text-[10px] font-medium sm:text-xs"
              [class.text-success]="toast.type === 'success'"
              [class.text-valencia-50]="toast.type === 'error'"
              [class.text-warning]="toast.type === 'warning'"
              [class.text-info]="toast.type === 'info'"
            >
              {{
                toast.type === "success"
                  ? "Success"
                  : toast.type === "error"
                    ? "Error"
                    : toast.type === "warning"
                      ? "Warning"
                      : "Information"
              }}
            </span>
          </div>
          <button
            class="text-[10px] font-medium transition-colors hover:underline sm:text-xs"
            [class.text-success]="toast.type === 'success'"
            [class.text-valencia-50]="toast.type === 'error'"
            [class.text-warning]="toast.type === 'warning'"
            [class.text-info]="toast.type === 'info'"
            (click)="toastService.remove(toast.id)"
          >
            Dismiss
          </button>
        </div>
      </div>
    </div>
  }
</div>
